<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YourSpace Profile</title>
  <link rel="stylesheet" href="profile.css">
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
</head>
<body class="default-theme">
  <nav class="navbar">
    <button id="homeBtn">Home</button>
    <button id="profileBtn">My Profile</button>
    <button id="messagesBtn">Messages</button>
    <button id="logoutBtn">Logout</button>
  </nav>

  <section class="profile-main">
    <div class="profile-top">
      <div class="pfp-container">
        <img id="profilePic" src="default-avatar.png" alt="Profile Picture">
        <input type="file" id="profilePicInput" accept="image/*" style="display:none;">
        <button id="changePfpBtn">Change Picture</button>
      </div>

      <div class="profile-info-box">
        <h2 id="displayName">Loading...</h2>
        <p id="location" class="location-text">üìç Location</p>
        <p id="bio" class="bio-text">Bio goes here...</p>
        <button id="editProfileBtn">Edit Profile</button>
        <button id="sendMessageBtn" style="display:none;">Send Message</button>
      </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal" style="display:none;">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h3>Edit Profile</h3>
        <input type="text" id="usernameInput" placeholder="Username">
        <input type="text" id="displayNameInput" placeholder="Display Name">
        <input type="text" id="locationInput" placeholder="Location">
        <textarea id="bioInput" placeholder="Bio" rows="4"></textarea>
        <button id="saveProfileBtn">Save Changes</button>
      </div>
    </div>

    <!-- Theme Customization -->
    <div class="theme-container card">
      <h3>üé® Customize Theme</h3>
      <select id="themeSelect">
        <option value="default-theme">Default</option>
        <option value="dark-theme">Dark Mode</option>
        <option value="neon-theme">Neon</option>
        <option value="blue-gradient">Blue Gradient</option>
        <option value="red-gradient">Red Gradient</option>
        <option value="green-gradient">Green Gradient</option>
        <option value="animated-rainbow">Animated Rainbow</option>
      </select>
      <button id="applyThemeBtn">Apply Theme</button>
      <button id="resetThemeBtn">Reset to Default</button>
    </div>

    <!-- Custom HTML Editor -->
    <div class="custom-html-container card" id="customHtmlSection">
      <h3>üíª Custom HTML/CSS</h3>
      <p class="info-text">Customize your profile with HTML & CSS - make it uniquely yours!</p>
      <textarea id="customHtmlInput" placeholder="Enter your custom HTML/CSS here..." rows="6"></textarea>
      <button id="saveCustomHtmlBtn">Save Custom Code</button>
      <button id="clearCustomHtmlBtn">Clear Custom Code</button>
      <div id="customHtmlPreview"></div>
    </div>

    <!-- Music Player -->
    <div class="music-player card">
      <h3>üéµ Music Player</h3>
      <div class="music-controls">
        <label>
          <input type="checkbox" id="autoplayToggle" checked> Autoplay
        </label>
      </div>
      <div id="musicSlotsContainer">
        <div class="music-slot">
          <input type="text" class="music-input" placeholder="YouTube/Spotify/SoundCloud link" data-slot="0">
          <button class="add-music-btn" data-slot="0">Add</button>
          <button class="remove-music-btn" data-slot="0" style="display:none;">Remove</button>
        </div>
        <div class="music-slot">
          <input type="text" class="music-input" placeholder="Song 2" data-slot="1">
          <button class="add-music-btn" data-slot="1">Add</button>
          <button class="remove-music-btn" data-slot="1" style="display:none;">Remove</button>
        </div>
        <div class="music-slot">
          <input type="text" class="music-input" placeholder="Song 3" data-slot="2">
          <button class="add-music-btn" data-slot="2">Add</button>
          <button class="remove-music-btn" data-slot="2" style="display:none;">Remove</button>
        </div>
        <div class="music-slot">
          <input type="text" class="music-input" placeholder="Song 4" data-slot="3">
          <button class="add-music-btn" data-slot="3">Add</button>
          <button class="remove-music-btn" data-slot="3" style="display:none;">Remove</button>
        </div>
      </div>
      <div id="musicPlayerContainer"></div>
    </div>

    <!-- Top 10 Friends -->
    <div class="top10-container card">
      <h3>üë• Top 10 Friends</h3>
      <input type="text" id="searchFriendInput" placeholder="Search username to add...">
      <button id="searchFriendBtn">Search</button>
      <div id="searchResults"></div>
      <div id="topFriendsContainer" class="top-friends-list">
        <!-- Drag and drop friends here -->
      </div>
    </div>

    <!-- Comments Wall -->
    <div class="wall-container card">
      <h3>üí¨ Comments Wall</h3>
      <div id="wallCommentsContainer">
        <!-- Comments will be rendered here -->
      </div>
      <textarea id="commentInput" placeholder="Leave a comment..." rows="3"></textarea>
      <button id="addCommentBtn">Post Comment</button>
    </div>
  </section>

  <!-- Messages Modal -->
  <div id="messagesModal" class="modal" style="display:none;">
    <div class="modal-content messages-modal-content">
      <span class="close-modal">&times;</span>
      <h3>üí¨ Private Messages</h3>
      
      <!-- Search for users to message -->
      <div class="message-search">
        <input type="text" id="searchUserToMessage" placeholder="Search username to message...">
        <button id="searchUserToMessageBtn">Search</button>
        <div id="userSearchResults"></div>
      </div>

      <div class="messages-layout">
        <div class="conversations-list">
          <h4>Conversations</h4>
          <div id="conversationsList"></div>
        </div>
        <div class="message-thread">
          <h4 id="currentChatUser">Select a conversation</h4>
          <div id="messagesContainer"></div>
          <div class="message-input-container">
            <input type="text" id="messageInput" placeholder="Type a message...">
            <button id="sendMessageBtnInChat">Send</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="profile.js"></script>
</body>
</html>
