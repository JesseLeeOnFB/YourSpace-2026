<!DOCTYPE html>
<html lang="en">
<head>
<<<<<<< HEAD
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Connect Stripe - Debug Mode</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 2rem;
    }
    .container {
      background: white;
      padding: 2rem;
      border-radius: 20px;
      max-width: 800px;
      margin: 0 auto;
    }
    h1 { color: #333; margin-bottom: 1rem; }
    input { width: 100%; padding: 1rem; margin: 1rem 0; border: 2px solid #ddd; border-radius: 8px; font-size: 1rem; }
    button {
      width: 100%;
      padding: 1rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 1rem;
    }
    button:disabled { opacity: 0.5; cursor: not-allowed; }
    #debugLog {
      background: #1e1e1e;
      color: #00ff00;
      padding: 1.5rem;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      max-height: 400px;
      overflow-y: auto;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    .error { color: #ff4444 !important; }
    .success { color: #00ff88 !important; }
    .info { color: #00d9ff !important; }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîß Stripe Connect - Debug Mode</h1>
    <p>This page will show you exactly what's happening with the Stripe connection.</p>
    
    <input type="email" id="emailInput" placeholder="your.email@example.com">
    <button id="connectBtn">üîó Test Stripe Connection</button>
    <button id="clearBtn" style="background: #666;">Clear Log</button>
    
    <h3 style="margin-top: 2rem;">Debug Console:</h3>
    <div id="debugLog">Waiting for action...</div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
    
    const firebaseConfig = {
      apiKey: "AIzaSyAHMbxr7rJS88ZefVJzt8p_9CCTstLmLU8",
      authDomain: "yourspace-2026.firebaseapp.com",
      projectId: "yourspace-2026",
      storageBucket: "yourspace-2026.firebasestorage.app",
      messagingSenderId: "72667267302",
      appId: "1:72667267302:web:2bed5f543e05d49ca8fb27"
    };
    
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    
    const debugLog = document.getElementById('debugLog');
    const connectBtn = document.getElementById('connectBtn');
    const clearBtn = document.getElementById('clearBtn');
    const emailInput = document.getElementById('emailInput');
    
    function log(message, type = 'info') {
      const timestamp = new Date().toLocaleTimeString();
      const className = type === 'error' ? 'error' : type === 'success' ? 'success' : 'info';
      debugLog.innerHTML += `<span class="${className}">[${timestamp}] ${message}</span>\n`;
      debugLog.scrollTop = debugLog.scrollHeight;
      console.log(message);
    }
    
    clearBtn.onclick = () => {
      debugLog.innerHTML = 'Log cleared.\n';
    };
    
    onAuthStateChanged(auth, (user) => {
      if (!user) {
        log('‚ùå ERROR: Not logged in. Redirecting to login...', 'error');
        setTimeout(() => {
          window.location.href = "login.html";
        }, 2000);
      } else {
        log(`‚úÖ Authenticated as: ${user.email}`, 'success');
        log(`üìù User ID: ${user.uid}`, 'info');
        emailInput.value = user.email;
      }
    });
    
    connectBtn.addEventListener('click', async () => {
      debugLog.innerHTML = '';
      log('üöÄ Starting Stripe connection process...', 'info');
      
      const email = emailInput.value.trim();
      
      if (!email || !email.includes("@")) {
        log('‚ùå Invalid email address', 'error');
        return;
      }
      
      if (!auth.currentUser) {
        log('‚ùå No user logged in', 'error');
        return;
      }
      
      connectBtn.disabled = true;
      log(`üìß Email: ${email}`, 'info');
      log(`üë§ User ID: ${auth.currentUser.uid}`, 'info');
      
      // Test 1: Check if function exists
      log('üîç TEST 1: Checking if Cloud Function exists...', 'info');
              const functionUrl = 'https://us-central1-yourspace-2026.cloudfunctions.net/createConnectAccount';
      log(`üìç Function URL: ${functionUrl}`, 'info');
      
      try {
        // First, try a simple OPTIONS request to see if function exists
        log('üì° Sending OPTIONS request...', 'info');
        const optionsResponse = await fetch(functionUrl, {
          method: 'OPTIONS',
          headers: {
            'Content-Type': 'application/json',
          }
        });
        
        log(`üì• OPTIONS Response Status: ${optionsResponse.status}`, optionsResponse.ok ? 'success' : 'error');
        
        // Now send the actual POST request
        log('üì° Sending POST request with payload...', 'info');
        
        const payload = {
          userId: auth.currentUser.uid,
          email: email,
          refreshUrl: `${window.location.origin}/stripe-setup.html`,
          returnUrl: `${window.location.origin}/dashboard.html?stripe=complete`
        };
        
        log(`üì¶ Payload: ${JSON.stringify(payload, null, 2)}`, 'info');
        
        const response = await fetch(functionUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(payload)
        });
        
        log(`üì• Response Status: ${response.status} ${response.statusText}`, response.ok ? 'success' : 'error');
        log(`üìã Response Headers:`, 'info');
        for (let [key, value] of response.headers.entries()) {
          log(`   ${key}: ${value}`, 'info');
        }
        
        // Get response text first to see raw response
        const responseText = await response.text();
        log(`üìÑ Raw Response Text:`, 'info');
        log(responseText, 'info');
        
        // Try to parse as JSON
        let data;
        try {
          data = JSON.parse(responseText);
          log(`‚úÖ Successfully parsed JSON response`, 'success');
          log(`üìä Parsed Data: ${JSON.stringify(data, null, 2)}`, 'info');
        } catch (parseError) {
          log(`‚ùå Failed to parse response as JSON: ${parseError.message}`, 'error');
          log(`üî¥ This means the Cloud Function returned invalid JSON or an error page`, 'error');
          connectBtn.disabled = false;
          return;
        }
        
        // Check response
        if (data.url) {
          log(`‚úÖ SUCCESS! Got Stripe URL`, 'success');
          log(`üîó Stripe URL: ${data.url}`, 'success');
          log(`üöÄ Redirecting in 3 seconds...`, 'success');
          
          setTimeout(() => {
            window.location.href = data.url;
          }, 3000);
        } else if (data.error) {
          log(`‚ùå ERROR from Cloud Function: ${data.error}`, 'error');
          log(`üîç Full error object: ${JSON.stringify(data, null, 2)}`, 'error');
          connectBtn.disabled = false;
        } else {
          log(`‚ùå Unexpected response structure`, 'error');
          log(`üìä Full response: ${JSON.stringify(data, null, 2)}`, 'error');
          connectBtn.disabled = false;
        }
        
      } catch (err) {
        log(`‚ùå FETCH ERROR: ${err.name}`, 'error');
        log(`üí¨ Error Message: ${err.message}`, 'error');
        log(`üìö Error Stack:`, 'error');
        log(err.stack, 'error');
        
        if (err.name === 'TypeError' && err.message.includes('Failed to fetch')) {
          log(`üî¥ POSSIBLE CAUSES:`, 'error');
          log(`   1. Cloud Function not deployed yet`, 'error');
          log(`   2. CORS not configured properly`, 'error');
          log(`   3. Function URL is wrong`, 'error');
          log(`   4. Network/firewall blocking request`, 'error');
          log(`\nüí° TO FIX:`, 'info');
          log(`   1. Run: firebase deploy --only functions`, 'info');
          log(`   2. Check Firebase Console for function logs`, 'info');
          log(`   3. Verify function name matches exactly`, 'info');
        }
        
        connectBtn.disabled = false;
      }
    });
  </script>
=======
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YourSpace - Business Information</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}
body {
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
line-height: 1.6;
color: #333;
padding: 40px 20px;
max-width: 900px;
margin: 0 auto;
}
h1 {
color: #1a1a1a;
margin-bottom: 10px;
}
h2 {
color: #333;
margin-top: 30px;
margin-bottom: 15px;
border-bottom: 2px solid #667eea;
padding-bottom: 5px;
}
p {
margin-bottom: 15px;
}
.header {
text-align: center;
margin-bottom: 40px;
padding-bottom: 20px;
border-bottom: 3px solid #667eea;
}
.tagline {
color: #666;
font-size: 18px;
margin-top: 10px;
}
.info-section {
background: #f9f9f9;
padding: 20px;
border-radius: 8px;
margin-bottom: 20px;
}
.info-section strong {
display: inline-block;
min-width: 150px;
color: #667eea;
}
ul {
margin-left: 20px;
margin-bottom: 15px;
}
li {
margin-bottom: 8px;
}
.pricing-table {
background: white;
border: 1px solid #ddd;
border-radius: 8px;
overflow: hidden;
margin: 20px 0;
}
.pricing-table table {
width: 100%;
border-collapse: collapse;
}
.pricing-table th {
background: #667eea;
color: white;
padding: 12px;
text-align: left;
}
.pricing-table td {
padding: 10px 12px;
border-bottom: 1px solid #eee;
}
.pricing-table tr:last-child td {
border-bottom: none;
}
.contact-info {
background: #667eea;
color: white;
padding: 20px;
border-radius: 8px;
margin-top: 30px;
}
.contact-info h2 {
color: white;
border-bottom-color: white;
}
.contact-info a {
color: white;
text-decoration: underline;
}
footer {
text-align: center;
margin-top: 40px;
padding-top: 20px;
border-top: 1px solid #ddd;
color: #666;
font-size: 14px;
}
.feature-highlight {
background: #e8f5e9;
border-left: 4px solid #4caf50;
padding: 15px;
margin: 20px 0;
border-radius: 4px;
}
</style>
</head>
<body>
<div class="header">
<h1>YourSpace</h1>
<p class="tagline">Interactive Social Media Platform - Business Information</p>
</div>

<h2>About YourSpace</h2>
<p>
YourSpace is an innovative social media platform that enables users to share text posts, photos,
and videos while fostering community engagement through an interactive rewards system. Our platform
connects content creators with their supporters through virtual gifts and rewards that translate
into real earnings for creators and recognition for community members.
</p>

<div class="info-section">
<h2>Business Details</h2>
<p><strong>Business Name:</strong> YourSpace</p>
<p><strong>Business Type:</strong> Interactive Social Media Platform</p>
<p><strong>Website:</strong> <a href="https://yourspacesocial.com" target="_blank">https://yourspacesocial.com</a></p>
<p><strong>Service:</strong> Social networking with creator monetization and community rewards</p>
<p><strong>Payment Processor:</strong> Stripe</p>
</div>

<h2>Platform Features</h2>
<ul>
<li><strong>Content Sharing:</strong> Users can post text, photos, and videos</li>
<li><strong>Community Engagement:</strong> Likes, comments, shares, and interactions</li>
<li><strong>Virtual Gifts & Rewards:</strong> Interactive gift-sending system between users</li>
<li><strong>Creator Monetization:</strong> Content creators earn real cash from gifts received</li>
<li><strong>Community Supporter Recognition:</strong> Active supporters earn special badges and rewards</li>
<li><strong>Interactive Visual Experience:</strong> Dynamic scene that visualizes user achievements</li>
<li><strong>User Profiles:</strong> Customizable profiles with photos and bio information</li>
</ul>

<div class="feature-highlight">
<h3>üéÅ Interactive Rewards System</h3>
<p>
YourSpace features a unique interactive visualization system where gifts and rewards are displayed
as a growing scene. As users receive gifts, items appear in their personal "YourSpace" - including
houses, cars, trucks, minivans, private jets, and more. This creates an engaging visual representation
of community support and creator success.
</p>
</div>

<h2>Virtual Gifts & Rewards Catalog</h2>
<p>
Community supporters can purchase and send virtual gifts to their favorite creators.
Each gift has a monetary value that is transferred to the creator (minus platform fees). Pricing for the gifts/rewards are subject to change without notice, As well as the payout percentages.
</p>

<h2>Revenue Model</h2>
<div class="info-section">
<p><strong>Platform Fee:</strong> Variable</p>
<p><strong>Creator Earnings:</strong> Variables</p>
<p><strong>Payment Processing:</strong> Handled securely through Stripe</p>
<p><strong>Creator Payouts:</strong> Bi-Weekly upon reaching minimum threshold ($10)</p>
<p><strong>Supporter Benefits:</strong> Special badges, recognition, and interactive scene rewards</p>
</div>

<h2>Community Supporter Benefits</h2>
<ul>
<li><strong>Special Badges:</strong> Earned through active engagement and gift-sending</li>
<li><strong>Interactive Scene:</strong> Visual representation of community contributions</li>
<li><strong>Recognition Status:</strong> Higher visibility and status within the community</li>
<li><strong>Direct Creator Support:</strong> Ability to directly support favorite content creators</li>
<li><strong>Exclusive Features:</strong> Access to supporter-only features and content</li>
</ul>

<h2>Creator Benefits</h2>
<ul>
<li><strong>Monetization:</strong> Earn real money from community support</li>
<li><strong>Interactive Dashboard:</strong> Visual representation of support received</li>
<li><strong>Direct Payouts:</strong> Regular payments via Stripe Connect</li>
<li><strong>Analytics:</strong> Track engagement and earnings</li>
<li><strong>Community Building:</strong> Connect directly with supporters</li>
</ul>

<h2>Payment Processing</h2>
<p>
All transactions on YourSpace are processed securely through Stripe. Users can purchase
virtual gifts using credit cards, debit cards, or other payment methods supported by Stripe.
Creator payouts are processed through Stripe Connect, ensuring secure and reliable payment delivery.
</p>

<h2>Terms of Service</h2>
<p>
Users must be 18 years or older to send or receive gifts and rewards. Users must be 13 years
or older to use the platform for basic features. All content must comply with our community
guidelines. We prohibit illegal content, harassment, spam, hate speech, and fraudulent activity.
Users own their content but grant YourSpace a license to display and distribute it on the platform.
</p>
<p>
<strong>Creator Requirements:</strong> Creators must verify their identity and connect a valid
payout method to receive earnings. All transactions are final. Refund requests are reviewed
on a case-by-case basis within 24 hours of transaction.
</p>

<h2>Privacy Policy</h2>
<p>
We collect user account information (email, username, payment information), content posted to
the platform, transaction history, and usage analytics. User data is stored securely using
Firebase and Stripe services. Payment information is handled exclusively by Stripe and never
stored on our servers. We do not sell user data to third parties. Users can delete their
accounts and associated data at any time, subject to legal retention requirements for
transaction records.
</p>

<h2>Refund Policy</h2>
<p>
<strong>Virtual Gifts:</strong> All gift purchases are final. Refunds may be granted within
24 hours in cases of technical errors, accidental purchases, or fraudulent activity.
</p>
<p>
<strong>Creator Earnings:</strong> Once funds are transferred to a creator's account, they
cannot be reversed except in cases of proven fraud or terms of service violations.
</p>
<p>
<strong>Dispute Resolution:</strong> All payment disputes are handled in accordance with
Stripe's dispute resolution process. Users can contact support for assistance.
</p>

<h2>Customer Support</h2>
<p>
For payment issues, technical support, gift/reward questions, creator payout inquiries, or
general questions, users can contact us through the platform's support system or via email.
Response time is typically within 24-48 hours for general inquiries and within 12 hours for
payment-related issues.
</p>

<div class="contact-info">
<h2>Contact Information</h2>
<p><strong>Support Email:</strong> support@yourspacesocial.com</p>
<p><strong>Business Email:</strong> business@yourspacesocial.com</p>
<p><strong>Payment Support:</strong> payments@yourspacesocial.com</p>
<p><strong>Creator Support:</strong> creators@yourspacesocial.com</p>
<p><strong>Website:</strong> <a href="https://yourspacesocial.com" target="_blank">https://yourspacesocial.com</a></p>
</div>

<h2>Legal Information</h2>
<div class="info-section">
<p><strong>Business Structure:</strong> Limited Liability Company (LLC)</p>
<p><strong>Compliance:</strong> All transactions comply with applicable financial regulations</p>
<p><strong>Age Restrictions:</strong> 18+ for gift transactions, 13+ for platform use</p>
<p><strong>Tax Information:</strong> Creators are responsible for reporting earnings as income</p>
</div>

<footer>
<p>&copy; 2026 YourSpace. All rights reserved.</p>
<p>This page is provided for business verification and transparency purposes.</p>
<p>For the latest terms and policies, please visit <a href="https://yourspacesocial.com" style="color: #667eea;">yourspacesocial.com</a></p>
</footer>
>>>>>>> 955c7ca (stripe verification html change)
</body>
</html>